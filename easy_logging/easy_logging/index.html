<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>index (easy_logging.index)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">easy_logging</a> &#x00BB; index</nav></header><h1 id="easy-logging"><a href="#easy-logging" class="anchor"></a>Easy logging</h1><p>Logging infrastructure inspired by the Python logging module. The aim of this module is to provide a quick and easy to use logging infrastructure.</p><p>It has the following features :</p><ul><li>one line logger creation</li><li>log messages are either <code>string</code> or <code>string lazy_t</code></li><li>log level adaptable at runtime from anywhere in the program</li><li>handlers associated to each logger will format and treat the message independantly</li></ul><h4 id="basic-example"><a href="#basic-example" class="anchor"></a>Basic example</h4><pre><code class="ml">open Easy_logging
logger = Logging.make_logger &quot;my_logger&quot; (Some Debug) [Cli Debug];;
logger#info &quot;log_message&quot;;; </code></pre><p>will output to the stdout a message of the form</p><pre>1.306  my_logger    Info    log_message</pre><h2 id="reference"><a href="#reference" class="anchor"></a>Reference</h2><ul><li><a href="Easy_logging/Logging/class-logger/index.html"><code>Easy_logging.Logging.logger</code></a> : Default logger class.</li><li><a href="Easy_logging__Default_handlers/index.html"><code>Easy_logging__Default_handlers</code></a> : Default handlers.</li><li><a href="Easy_logging/MakeLogging/index.html"><code>Easy_logging.MakeLogging</code></a> : Functor to create your own logging module.</li><li><a href="Easy_logging__Easy_logging_types/index.html"><code>Easy_logging__Easy_logging_types</code></a> : Types definitions.</li><li><a href="Easy_logging/index.html"><code>Easy_logging</code></a> : Entry point of the module.</li></ul><h2 id="overall-description"><a href="#overall-description" class="anchor"></a>Overall description</h2><h4 id="infrastructure"><a href="#infrastructure" class="anchor"></a>Infrastructure</h4><p>Like in the python logging module, this logging infrastructure is based on four concepts:</p><p><em>loggers, handlers, formatters</em> and <em>log items</em>.</p><p>A call to <em>logger</em> will create a <em>log item</em>, which it will pass to its <em>handlers</em>. Each <em>handler</em> transforms the <em>log item</em> to a string using its assigned <em>formatter</em>, and then treats the <em>item</em> (e.g. outputs to stdout or to a file).</p><pre>                                   ___________________________
                                  |         handler 1         |
                                  | (formatter) | (treatment) |
             _______________      |---------------------------|
            |     logger    | ==&gt; | -&gt; string  ==&gt;    ( * )   |
            |---------------|     |___________________________|
message ==&gt; | -&gt; log item   |      ___________________________
            [_______________| ==&gt; |         handler 2         |
                                  |            ...            |</pre><h4 id="levels"><a href="#levels" class="anchor"></a>Levels</h4><p>To each logger, handler and log message are associated a level, which will be used to filter the messages going through the logging infrastructure.</p><p>The predefined levels are, in increasing order of precedence :</p><ol><li>Debug : used for debugging.</li><li>Info : used to trace program execution.</li><li>Warning : used for warnings.</li><li>Error : used for errors.</li><li>Flash : used for one-shot debugging: displays an easy to spot message.</li></ol><h2 id="defaults"><a href="#defaults" class="anchor"></a>Defaults</h2><h3 id="default-handlers"><a href="#default-handlers" class="anchor"></a>Default Handlers</h3><p>By default, two handlers are provided:</p><ul><li><p>Cli handler: outputs colored messages to stdout.</p><pre><code class="ml">let h = Default_handlers.make (Cli Debug) </code></pre></li><li><p>File handler : outputs messages to a given file.</p><pre><code class="ml">let h = Default_handlers.make (File (&quot;filename&quot;, Debug)) </code></pre></li></ul><p>See more about default handlers at <a href="Easy_logging__Default_handlers/index.html"><code>Easy_logging__Default_handlers</code></a>.</p><h3 id="loggers"><a href="#loggers" class="anchor"></a>Loggers</h3><p>See complete class documentation at <a href="Easy_logging/Logging/class-logger/index.html"><code>Easy_logging.Logging.logger</code></a></p><h4 id="creation"><a href="#creation" class="anchor"></a>Creation</h4><p>A logger object can be created directly :</p><pre><code class="ml">let logger1 = new Logging.logger &quot;my_logger1&quot; (Some Warning) [Cli Debug] </code></pre><p>or through the make_logger function :</p><pre><code class="ml">let logger2 = Logging.make_logger &quot;my_logger2&quot; (Some Debug) [Cli Debug] </code></pre><p>The <code>make_logger</code> function will register the logger instance internaly so that it will be possible to access and modify it from anywhere in the program.</p><h4 id="usage"><a href="#usage" class="anchor"></a>Usage</h4><p>A logger object has two methods for each of the log levels.</p><pre><code class="ml">logger1#debug &quot;x is alive&quot;;
logger1#ldebug (lazy (heavy_calculation ())); </code></pre></div></body></html>